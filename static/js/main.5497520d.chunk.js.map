{"version":3,"sources":["model/build.ts","reducers/todo.ts","reducers/createReducer.ts","configureStore.tsx","reducers/index.ts","components/BranchBuild.tsx","components/Build.tsx","pages/HomePage.tsx","withRoot.tsx","actions/index.ts","actions/todo.ts","components/Form/CategoryFilter.tsx","components/Form/BuildForm.tsx","App.tsx","ReduxRoot.tsx","index.tsx"],"names":["BuildActions","initialState","modules","loading","raw","filter","term","categoryFilters","statePriority","sortByState","a","b","stateGroups","indexOf","moduleBranchFilter","branches","mod","nextBranches","keys","Object","nextMajor","nextMinor","key","match","map","parseInt","reduce","Math","max","toString","patches","RegExp","replace","trim","sort","slice","subVersion","length","nextPatch","previousPatch","values","undefined","branchStateReduce","accumulator","state","markExpiredBuild","data","buildDate","Date","started_at","now","expiry","setDate","getDate","postProcess","module","moduleName","moduleMetaDada","ssModuleData","find","meta","repo","core","supported","filterModule","name","stateSort","localeCompare","sortModule","build","handlers","action","hasOwnProperty","type","createReducer","LOADING_BUILDS","BUILD_LOADED","payload","json","lastModified","TOGGLE_FILTER","nextFilter","next","SET_TERM","triggerSearchTimeout","clearTimeout","toLocaleLowerCase","TRIGGER_SEARCH","SET_CATEGORY_FILTER","persistConfig","version","storage","localforage","blacklist","history","createLogger","createBrowserHistory","middleware","applyMiddleware","thunk","persistedReducer","persistReducer","combineReducers","todoReducer","buildStateColours","failed","errored","passed","running","created","started","expired","canceled","variantByState","BranchBuild","branch","id","classes","useStyles","Button","href","variant","className","branchBtn","makeStyles","props","margin","flexGrow","background","property","mapping","styledBy","textDecoration","Build","Grid","item","xs","sm","md","style","Card","box","CardContent","Typography","gutterBottom","component","color","cardActions","theme","borderRadius","text","flexWrap","display","HomePage","React","useSelector","CircularProgress","root","centerContainer","container","direction","justify","alignItems","spacing","textAlign","paddingTop","paddingLeft","paddingRight","button","marginTop","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","useActions","actions","deps","dispatch","useDispatch","useMemo","Array","isArray","bindActionCreators","initBuildData","fetch","process","method","then","response","headers","has","get","toggleFilter","setTerm","setTimeout","setCategoryFilter","categories","unsupported","nonmodule","CategoryFilter","ReduxActions","FormControl","InputLabel","Select","labelId","multiple","value","onChange","event","target","input","Input","renderValue","selected","join","MenuItem","Checkbox","checked","ListItemText","width","BuildForm","FormGroup","row","TextField","label","FormControlLabel","control","Switch","Routes","content","exact","path","states","legendStyles","legend","height","Drawer","ago","round","getTime","drawerList","drawerHeader","Divider","List","ListItem","onClick","push","ListItemIcon","drawerSpacer","ListSubheader","Component","zIndex","overflow","appFrame","position","appBar","drawer","appTitle","appForm","navIconHide","breakpoints","up","mixins","toolbar","drawerPaper","backgroundColor","default","minHeight","flexDirection","withRoot","todoActions","mobileOpen","setMobileOpen","isMobile","useMediaQuery","down","handleDrawerToggle","basename","AppBar","Toolbar","IconButton","aria-label","noWrap","Hidden","mdUp","anchor","open","paper","onClose","ModalProps","keepMounted","smDown","ThemeProvider","CssBaseline","store","createStore","persistor","persistStore","configureStore","rootEl","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.5497520d.chunk.js","sourcesContent":["\nexport type BuildStateType = 'passed'|'errored'|'failed'|'running'|'expired'|'canceled'|'created'|'started';\nexport type FilterType = 'all'|'latestStable';\nexport type CategoryFilterType = 'core'|'supported'|'unsupported'|'nonmodule';\n\nexport interface BranchData {\n  id: number\n  started_at: string\n  state: BuildStateType\n}\n\nexport interface BranchList {\n  [branch: string]: BranchData\n}\n\nexport interface BuildData {\n  [module: string]: {\n    [branch: string]: BranchData\n  }\n}\n\nexport interface BuildDataPayload {\n  json: BuildData\n  lastModified: Date\n}\n\nexport interface SetTermPayload {\n  term: string, \n  triggerSearchTimeout: number\n}\n\nexport interface SetCatPayload {\n  categoryFilters: CategoryFilterType[]\n}\nexport interface Module {\n  name: string\n  branches: BranchList\n  state: BuildStateType\n}\n\nexport type BuildActionType<t,p> = {\n  type: t\n  payload: p\n}\n\nexport enum BuildActions {\n  LOADING_BUILDS = \"LOADING_BUILDS\",\n  BUILD_LOADED = \"BUILD_LOADED\",\n  TOGGLE_FILTER = \"TOGGLE_FILTER\",\n  SET_TERM = \"SET_TERM\",\n  TRIGGER_SEARCH = \"TRIGGER_SEARCH\",\n  SET_CATEGORY_FILTER = \"SET_CATEGORY_FILTER\",\n}\n\nexport type BuildAction =\n  | BuildActionType<typeof BuildActions.LOADING_BUILDS, void>\n  | BuildActionType<typeof BuildActions.BUILD_LOADED, BuildDataPayload>\n  | BuildActionType<typeof BuildActions.TOGGLE_FILTER, void>\n  | BuildActionType<typeof BuildActions.SET_TERM, SetTermPayload>\n  | BuildActionType<typeof BuildActions.TRIGGER_SEARCH, void>\n  | BuildActionType<typeof BuildActions.SET_CATEGORY_FILTER, SetCatPayload>\n;\n\nexport interface BuildState {\n  modules: Module[],\n  loading: boolean,\n  lastModified?: Date,\n  raw: BuildData,\n  filter: FilterType,\n  term: string,\n  triggerSearchTimeout?: number,\n  categoryFilters: CategoryFilterType[],\n}\n","import { AddCircleTwoTone } from \"@material-ui/icons\";\nimport { BranchData, BranchList, BuildAction, BuildActions, BuildData, BuildDataPayload, BuildState, BuildStateType, FilterType, SetTermPayload, Module, SetCatPayload, CategoryFilterType } from \"../model\";\nimport createReducer from \"./createReducer\";\nimport { data as ssModuleData } from \"silverstripe-cms-meta\";\n\n\nconst initialState: BuildState = {\n\tmodules: [],\n\tloading: true,\n\traw: {},\n\tfilter: 'latestStable',\n\tterm: '',\n\tcategoryFilters: ['core', 'nonmodule', 'supported', 'unsupported']\n};\n\nconst statePriority: BuildStateType[][] = [\n\t['errored', 'failed'],\n\t['canceled'],\n\t['expired'],\n\t['running', 'created', 'started'],\n\t['passed']\n];\n\n/**\n * Sort states with the least desirable one showing up first.\n * @param a\n * @param b\n */\nfunction sortByState(a: BuildStateType, b: BuildStateType) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\n\tfor (const stateGroups of statePriority) {\n\t\tif (stateGroups.indexOf(a) > -1) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (stateGroups.indexOf(b) > -1) {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n/**\n * Sort module by build state and then by name.\n * @param a\n * @param b\n */\nfunction sortModule(a: Module, b: Module) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\tconst stateSort = sortByState(a.state, b.state);\n\treturn stateSort !== 0 ? stateSort : a.name.localeCompare(b.name);\n}\n\n/**\n * Filter out branches that are not the latest. Branches that will be returned are:\n * - master/main\n * - the next minor release branch\n * - the last two patch release branch\n * @param branches\n * @param mod\n */\nfunction moduleBranchFilter(branches: BranchList, mod: string): BranchList {\n\tlet nextBranches: {\n\t\tnextMajor ?: string,\n\t\tnextMinor ?: string,\n\t\tnextPatch ?: string,\n\t\tpreviousPatch ?: string,\n\t} = { }\n\n\tconst keys = Object.keys(branches);\n\n\n\tif (keys.indexOf('master') > -1) {\n\t\tnextBranches.nextMajor = 'master';\n\t} else if (keys.indexOf('main') > -1) {\n\t\tnextBranches.nextMajor = 'main';\n\t}\n\n\tconst nextMinor = keys.filter(key => key.match(/^\\d+$/))\n\t\t.map(key => parseInt(key))\n\t\t.reduce((a,b) => Math.max(a,b), 0);\n\n\tif (nextMinor) {\n\t\tnextBranches.nextMinor = nextMinor.toString();\n\t\tconst patches = keys\n\t\t\t.filter(key => key.match(new RegExp(`^${nextMinor}\\\\.\\\\d+$`)))\n\t\t\t.map(key => {\n\t\t\t\treturn key.replace(`${nextMinor}.`, '').trim()\n\t\t\t})\n\t\t\t.map(key => parseInt(key)).sort()\n\t\t\t.slice(-2)\n\t\t\t.map(subVersion => `${nextMinor}.${subVersion}`);\n\n\t\tif (patches.length === 2) {\n\t\t\tnextBranches.nextPatch = patches[1];\n\t\t\tnextBranches.previousPatch = patches[0];\n\t\t} else if (patches.length === 1) {\n\t\t\tnextBranches.nextPatch = patches[0];\n\t\t}\n\t}\n\n\n\treturn Object.values(nextBranches).reduce((nextBranches, key) => {\n\t\treturn key === undefined ?\n\t\t\tnextBranches :\n\t\t\t{...nextBranches, [key]: branches[key]}\n\t}, {});\n}\n\n/**\n * Given a list of branches, find the worst \"state\". (e.g \"Running\" is worst than \"Passing\" and \"Failed\" is worst than \"running\")\n * This is use to attach a state to a given module.\n * @param accumulator\n * @param param1\n */\nfunction branchStateReduce(accumulator:BuildStateType, {state}:BranchData) {\n  return sortByState(accumulator, state) > 0 ? state : accumulator;\n}\n\n/**\n * Create an artificial state of expired for bulids that haven't run in more than 30 days.\n * @param data\n */\nfunction markExpiredBuild(data: BranchData): BranchData {\n  if (!data || data.state !== 'passed') {\n\t  return data;\n  }\n\n  const buildDate = new Date(data.started_at);\n  const now = new Date();\n  const expiry = new Date();\n  expiry.setDate(now.getDate() - 30);\n\n  return (buildDate < expiry) ? {...data, state: 'expired'} : data;\n}\n\nfunction filterModule(moduleName:string, categoryFilters: CategoryFilterType[]) {\n\tif (categoryFilters.length === 4) {\n\t\treturn true;\n\t}\n\t\n\tconst moduleMetaDada = ssModuleData.find((meta) => meta.repo === moduleName );\n\treturn moduleMetaDada ? (\n\t\t(categoryFilters.indexOf('core') > -1 && moduleMetaDada.core ) ||\n\t\t(categoryFilters.indexOf('supported') > -1 && moduleMetaDada.supported ) ||\n\t\t(categoryFilters.indexOf('unsupported') > -1 && !moduleMetaDada.supported )\n\t) : categoryFilters.indexOf('nonmodule') > -1;\n}\n\nfunction postProcess(data: BuildData, {filter, term, categoryFilters}: BuildState) {\n\treturn Object.keys(data)\n\t\t.filter((module) => filterModule(module, categoryFilters))\n\t\t.map(module => ({\n\t\t\tbranches: data[module],\n\t\t\tname: module,\n\t\t}))\n\t\t.filter(({name}) => (name.indexOf(term) !== -1))\n\t\t.map(({branches, ...data}) => ({\n\t\t\tbranches: filter === 'latestStable' ? moduleBranchFilter(branches, data.name) : branches,\n\t\t\t...data\n\t\t}))\n\t\t.map(({branches, ...data}) => {\n\t\t\tfor (const key in branches) {\n\t\t\t\tbranches[key] = markExpiredBuild(branches[key]);\n\t\t\t}\n\t\t\treturn {branches, ...data};\n\t\t})\n\t\t.map(data => ({...data, state: Object.values(data.branches).reduce(branchStateReduce, 'passed')}))\n\t\t.sort((a, b) => sortModule(a, b));\n}\n\nexport const build = createReducer<BuildState>(initialState, {\n\t[BuildActions.LOADING_BUILDS]() {\n\t\treturn initialState;\n\t},\n\t[BuildActions.BUILD_LOADED](state: BuildState, action: BuildAction) {\n\t\tconst {json, lastModified} = <BuildDataPayload> action.payload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tmodules: postProcess(json, state),\n\t\t\tlastModified: lastModified,\n\t\t\tloading: false,\n\t\t\traw: json\n\t\t};\n\t},\n\t[BuildActions.TOGGLE_FILTER]({filter, ...state}: BuildState) {\n\t\tconst nextFilter: FilterType = filter === 'latestStable' ? 'all' : 'latestStable';\n\t\tconst next = {\n\t\t\t...state,\n\t\t\tfilter: nextFilter\n\t\t};\n\t\treturn {...next, modules: postProcess(state.raw, next)};\n\t},\n\t[BuildActions.SET_TERM](state: BuildState, action: BuildAction) {\n\t\tstate.triggerSearchTimeout && clearTimeout(state.triggerSearchTimeout);\n\n\t\tconst {term, triggerSearchTimeout} = <SetTermPayload> action.payload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tterm: term.toLocaleLowerCase(),\n\t\t\ttriggerSearchTimeout\n\t\t};\n\t},\n\t[BuildActions.TRIGGER_SEARCH](state: BuildState) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tmodules: postProcess(state.raw, state),\n\t\t};\n\t},\n\t[BuildActions.SET_CATEGORY_FILTER](state: BuildState, action: BuildAction) {\n\t\tconst {categoryFilters} = <SetCatPayload>action.payload;\n\t\tconst next = {...state, categoryFilters}\n\n\t\treturn {...next, modules: postProcess(state.raw, next)};\n\t}\n});\n","/**\n * Created by toni on 12.03.2017.\n */\nimport { Reducer } from \"redux\";\nimport { Action } from \"../model\";\n\nexport default function createReducer<S>(\n\tinitialState: S,\n\thandlers: any\n): Reducer<S> {\n\tconst r = (state: S = initialState, action: Action): S => {\n\t\tif (handlers.hasOwnProperty(action.type)) {\n\t\t\treturn handlers[action.type](state, action);\n\t\t} else {\n\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn r as Reducer<S>;\n}\n","import { createBrowserHistory } from \"history\";\nimport * as localforage from \"localforage\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { createLogger } from \"redux-logger\";\nimport { PersistConfig, persistReducer, persistStore } from \"redux-persist\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst persistConfig: PersistConfig<any> = {\n\tkey: \"root\",\n\tversion: 1,\n\tstorage: localforage,\n\tblacklist: [],\n};\n\nconst logger = (createLogger as any)();\nconst history = createBrowserHistory();\n\nconst dev = process.env.NODE_ENV === \"development\";\n\nlet middleware = dev ? applyMiddleware(thunk, logger) : applyMiddleware(thunk);\n\nif (dev) {\n\tmiddleware = composeWithDevTools(middleware);\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history));\n\nexport default () => {\n\tconst store = createStore(persistedReducer, {}, middleware) as any;\n\tconst persistor = persistStore(store);\n\treturn { store, persistor };\n};\n\nexport { history };\n","import { History } from \"history\";\nimport { combineReducers } from \"redux\";\nimport { BuildData, BuildState } from \"../model\";\nimport * as todoReducer from \"./todo\";\n\nexport interface RootState {\n\tbuild: BuildState;\n}\n\nexport default (history: History) =>\n\tcombineReducers({\n\t\t...todoReducer,\n\t});\n","import { makeStyles, Button, Theme, Typography, Card, CardContent, Grid, CardActions } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport {BuildStateType} from \"../model/build\";\n\nexport const buildStateColours: { [state in BuildStateType]: string } = {\n\tfailed: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n\terrored: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n\tpassed: \"linear-gradient(45deg, #61b047 30%, #00ca99 90%)\",\n\trunning: \"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)\",\n\tcreated: \"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)\",\n\tstarted: \"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)\",\n\texpired: \"linear-gradient(45deg, #6b8bfe 30%, #de6bfe 90%)\",\n\tcanceled: \"linear-gradient(45deg, #ad495e 30%, #ad9749 90%)\",\n};\n\ninterface Props {\n\tmodule: string,\n\tbranch: string,\n\tbuild: {\n\t\tid: number,\n\t\tstate: string\n\t}\n}\n\nconst variantByState: any = {\n\terrored: 'contained',\n\tfailed: 'contained',\n\tpassed: 'outlined',\n\tcreated:  'contained',\n\tstarted:  'contained',\n\trunning:  'contained',\n}\n\nconst colorByState: any = {\n\terrored: 'secondary',\n\tfailed: 'secondary',\n\tpassed: 'primary'\n}\n\nexport function BranchBuild({module, branch, build: {id, state}}: Props) {\n\tconst classes = useStyles({state});\n\treturn <Button \n\t\thref={`https://travis-ci.com/github/${module}/builds/${id}`} \n\t\tvariant={variantByState[state]} \nclassName={classes.branchBtn}>{branch}</Button>;\n}\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]];\n\nconst useStyles = makeStyles(({\n\tbranchBtn: props => {\n\t\tconst background = styledBy('state', props, buildStateColours)\n\t\treturn {\n\t\t\tmargin: '0 8px 8px 0',\n\t\t\tflexGrow: 1,\n\t\t\tbackground,\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t},\n}));\n","import { makeStyles, Button, Theme, Typography, Card, CardContent, Grid, CardActions } from \"@material-ui/core\";\nimport { NoEncryption } from \"@material-ui/icons\";\nimport * as React from \"react\";\nimport { Module } from \"../model\";\nimport { BranchBuild } from './BranchBuild';\n\nconst variantByState: any = {\n\terrored: 'contained',\n\tfailed: 'contained',\n\tpassed: 'outlined',\n\texpired: 'outlined'\n}\n\nexport function Build({name, branches, state}: Module) {\n\tconst classes = useStyles({state});\n\n\treturn (\n\t\t<Grid item xs={6} sm={4} md={3}>\n\t\t\t<a href={`https://travis-ci.com/github/${name}/branches`} style={{textDecoration: 'none'}}>\n\t\t\t\t<Card className={classes.box}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography gutterBottom variant=\"h6\" component=\"h2\">\n\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{ state !== 'passed' && <div className={classes.cardActions}>\n\t\t\t\t\t\t\t{Object.keys(branches).map(branch => <BranchBuild module={name} branch={branch} key={branch} build={branches[branch]} />)}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</a>\n\t\t</Grid>\n\t);\n}\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]];\nconst useStyles = makeStyles((theme: Theme) => ({\n\tbox: (props: any) => ({\n\t\tborderRadius: 8,\n\t\ttextDecoration: 'none',\n\t\tbackground: props['state'] === 'passed' ? \"linear-gradient(45deg, #61b047 30%, #00ca99 90%)\" : undefined\n\t}),\n\n\ttext: {\n\t\tcolor: \"white\",\n\t},\n\n\tbranchBtn: {\n\t\tmargin: '0 8px 8px 0',\n\t\tflexGrow: 1\n\t},\n\n\tcardActions: {\n\t\tflexWrap: 'wrap',\n\t\tdisplay: 'flex'\n\t}\n}));\n","import { Button, Typography, Grid, CircularProgress } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Build } from \"../components\";\nimport { RootState } from \"../reducers\";\n\nexport function HomePage() {\n\tconst classes = useStyles();\n\tconst [boxColor, setBoxColor] = React.useState(\"red\");\n\n\tconst {modules, loading} = useSelector((state: RootState) => state.build);\n\n\treturn loading || !modules ? <CircularProgress /> : \t\n\t(\n\t\t<div className={classes.root}>\n\t\t\t<Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}> \n\t\t\t\t{modules.map( ({name, ...props}) => <Build key={name} name={name} {...props} />)}\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n\t\t// flex: 1,\n\t\t// height: \"90%\",\n\t\t// display: \"flex\",\n\t\t// alignItems: \"center\",\n\t\t// justifyContent: \"center\",\n\t\t// flexDirection: \"column\",\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { CssBaseline } from \"@material-ui/core\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport * as React from \"react\";\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: \"#e5e5e5\",\n\t\t\tmain: \"#727272\",\n\t\t\tdark: \"#363839\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\tsecondary: {\n\t\t\tlight: \"#005AE1\",\n\t\t\tmain: \"#0F3287\",\n\t\t\tdark: \"#051E2D\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\ttype: 'dark'\n\t},\n});\n\nexport function withRoot(Component: any) {\n\tfunction WithRoot(props: object) {\n\t\t// MuiThemeProvider makes the theme available down the React tree\n\t\t// thanks to React context.\n\t\treturn (\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t{/* Reboot kickstart an elegant, consistent, and simple baseline to build upon. */}\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Component {...props} />\n\t\t\t</ThemeProvider>\n\t\t);\n\t}\n\n\treturn WithRoot;\n}\n","import { useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nexport function useActions(actions: any, deps?: any): any {\n\tconst dispatch = useDispatch();\n\treturn useMemo(\n\t\t() => {\n\t\t\tif (Array.isArray(actions)) {\n\t\t\t\treturn actions.map(a => bindActionCreators(a, dispatch));\n\t\t\t}\n\t\t\treturn bindActionCreators(actions, dispatch);\n\t\t},\n\t\tdeps ? [dispatch, ...deps] : deps\n\t);\n}\n","import { BuildActions, CategoryFilterType } from \"../model\";\n\ninterface reduxAction {\n\ttype: string,\n\tpayload?: any\n}\n\ntype dispatchCallback = (action: reduxAction) => void;\n\nexport function initBuildData() {\n\treturn (dispatch: dispatchCallback) => {\n\t\tdispatch({type: BuildActions.LOADING_BUILDS});\n\n\t\tfetch(process.env.PUBLIC_URL + '/buildData.json', {method: 'GET'})\n\t\t  .then((response) => response.json().then((data) => ({ \n\t\t\tjson: data,\n\t\t\tlastModified: \n\t\t\t\tresponse.headers.has('last-modified') ? \n\t\t\t\tnew Date(<string>response.headers.get('last-modified')) : \n\t\t\t\tundefined\n\t\t  \t})))\n\t\t  .then(data => dispatch({type: BuildActions.BUILD_LOADED, payload: data}));\n\t\t\n\t}\n}\n\nexport function toggleFilter() {\n\treturn {type: BuildActions.TOGGLE_FILTER}\n}\n\nexport function setTerm(term: string) {\n\treturn (dispatch: dispatchCallback) => {\n\t\tconst triggerSearchTimeout = setTimeout(() => {\n\t\t\tdispatch({type: BuildActions.TRIGGER_SEARCH});\n\t\t}, 500)\n\n\t\tdispatch({\n\t\t\ttype: BuildActions.SET_TERM, \n\t\t\tpayload:{\n\t\t\t\tterm,\n\t\t\t\ttriggerSearchTimeout\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function setCategoryFilter(categoryFilters: CategoryFilterType[]) {\n\treturn {type: BuildActions.SET_CATEGORY_FILTER, payload: {categoryFilters}}\n}","import { makeStyles, FormControl, InputLabel, Select, Input, MenuItem, Checkbox, ListItemText} from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/todo\";\nimport { CategoryFilterType } from \"../../model\";\nimport { RootState } from \"../../reducers\";\n\ninterface Props {\n\tclassName?: string\n}\n\n\nconst categories: {[key in CategoryFilterType]: string} = {\n\tcore: 'Core',\n\tsupported: 'Supported',\n\tunsupported: 'Unsupported',\n\tnonmodule: 'Non-module'\n}\nexport function CategoryFilter({className}: Props) {\n\tconst {setCategoryFilter} = useActions(ReduxActions);\n\tconst {categoryFilters} = useSelector((state: RootState) => state.build);\n  const classes = useStyles();\n\n  if (!categoryFilters) {\n    return null;\n  }\n  \n  return (\n\t\t<FormControl className={classes.root}>\n        <InputLabel id=\"demo-mutiple-checkbox-label\" color=\"secondary\">Category</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-checkbox-label\"\n          id=\"demo-mutiple-checkbox\"\n          multiple\n          value={categoryFilters}\n          onChange={(event) => setCategoryFilter(event.target.value)}\n          input={<Input />}\n          renderValue={(selected) => (selected as CategoryFilterType[]).map(key => categories[key]).join(', ')}\n        >\n          {Object.keys(categories).map((key) => (\n            <MenuItem key={key} value={key}>\n              <Checkbox checked={categoryFilters.indexOf(key as CategoryFilterType) > -1} />\n              <ListItemText primary={categories[(key as CategoryFilterType)]} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\t);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n    margin: theme.spacing(1),\n    width: 200\n  },\n}));\n","import { makeStyles, FormGroup, Switch, FormControlLabel, TextField } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/todo\";\nimport { RootState } from \"../../reducers\";\nimport { CategoryFilter } from \"./CategoryFilter\";\n\ninterface Props {\n\tclassName?: string\n}\n\nexport function BuildForm({className}: Props) {\n\tconst {toggleFilter, setTerm} = useActions(ReduxActions);\n\tconst {filter} = useSelector((state: RootState) => state.build);\n\tconst classes = useStyles();\n\treturn (\n\t\t<FormGroup row className={`${className} ${classes.root}`}>\n\t\t\t<TextField \n\t\t\t\tlabel=\"Filter by name\" variant=\"filled\" color=\"secondary\"\n\t\t\t\tonChange={event => setTerm(event.target.value)} className={classes.term} />\n\t\t\t<CategoryFilter />\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={<Switch checked={filter === 'latestStable'} onChange={toggleFilter} />} \n\t\t\t\tlabel=\"Latest only\" color=\"secondary\"/>\n\t\t</FormGroup>\n\t);\n}\n\nconst useStyles = makeStyles(({\n\tterm: {\n\t\tflexGrow: 1\n\t},\n\troot: {\n\t}\n\n}));\n","// prettier-ignore\nimport { AppBar, Badge, Divider, Drawer as DrawerMui, Hidden, IconButton, List, ListItem, ListItemIcon, ListItemText, ListSubheader, Toolbar, Typography, useMediaQuery } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumbered\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport GitHub from \"@material-ui/icons/GitHub\";\nimport UpdateIcon from '@material-ui/icons/Update';\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Route, BrowserRouter } from \"react-router-dom\";\nimport { history } from \"./configureStore\";\nimport { HomePage } from \"./pages\";\nimport { RootState } from \"./reducers/index\";\nimport { withRoot } from \"./withRoot\";\nimport { useActions } from \"./actions\";\nimport * as ReduxActions from \"./actions/todo\";\nimport { BuildStateType } from \"./model\";\nimport { buildStateColours } from './components/BranchBuild';\nimport { BuildForm} from \"./components/Form/BuildForm\";\n\nfunction Routes() {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Route exact={true} path=\"/\" component={HomePage} />\n\t\t\t<Route exact={true} path=\"/home\" component={HomePage} />\n\t\t</div>\n\t);\n}\n\nconst states: BuildStateType[] = [\n\t'failed',\n\t'canceled',\n\t'expired',\n\t'running',\n\t'passed'\n];\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]]\n\nconst legendStyles = makeStyles({\n\tlegend: props => ({\n\t\tbackground: styledBy('state', props, buildStateColours),\n\t\twidth: 24,\n\t\theight: 24,\n\t\tborderRadius: 3\n\t})\n});\n\nfunction Drawer(props: {  }) {\n\tconst classes = useStyles();\n\tconst lastModified = useSelector((state: RootState) => state.build.lastModified);\n\tconst ago = lastModified ? \n\t    `Fetched ${Math.round(((new Date()).getTime() - lastModified.getTime()) / 1000 / 60)} min ago` :\n\t\t'';\n\n\treturn (\n\t\t<div className={classes.drawerList}>\n\t\t\t<div className={classes.drawerHeader} />\n\t\t\t<Divider />\n\t\t\t<List>\n\t\t\t\t<ListItem button onClick={() => history.push(\"/\")}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<HomeIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Home\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem component=\"a\" button href=\"https://github.com/maxime-rainville/travis-dashboard/\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<GitHub />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"View Source\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem component=\"a\" button href=\"https://travis-ci.com/github/maxime-rainville/travis-dashboard/branches\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<UpdateIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Refresh data\" secondary={ago} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<div className={classes.drawerSpacer}></div>\n\t\t\t<List>\n\t\t\t\t<ListSubheader>Legend</ListSubheader>\n\t\t\t\t{\n\t\t\t\t\tstates.map(state => (\n\t\t\t\t\t\t<ListItem key={state}>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<span className={legendStyles({state}).legend}></span>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={state} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</List>\n\t\t</div>\n\t);\n}\n\nfunction App() {\n\tconst todoActions = useActions(ReduxActions);\n\tReact.useEffect( () => {\n\t\ttodoActions.initBuildData();\n\t}, []);\n\n\tconst classes = useStyles();\n\tconst [mobileOpen, setMobileOpen] = React.useState(true);\n\t// const state = useSelector((state: RootState) => state);\n\n\tconst isMobile = useMediaQuery((theme: Theme) =>\n\t\ttheme.breakpoints.down(\"sm\")\n\t);\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen);\n\t};\n\n\treturn (\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<div className={classes.appFrame}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t\tclassName={classes.navIconHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tnoWrap={isMobile}\n\t\t\t\t\t\t\t\tclassName={classes.appTitle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSilverstripe CMS Squad dashboard\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<BuildForm className={classes.appForm} />\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t<DrawerMui\n\t\t\t\t\t\t\tvariant=\"temporary\"\n\t\t\t\t\t\t\tanchor={\"left\"}\n\t\t\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\t\t\tModalProps={{\n\t\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Drawer />\n\t\t\t\t\t\t</DrawerMui>\n\t\t\t\t\t</Hidden>\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<DrawerMui\n\t\t\t\t\t\t\tvariant=\"permanent\"\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Drawer />\n\t\t\t\t\t\t</DrawerMui>\n\t\t\t\t\t</Hidden>\n\t\t\t\t\t<Routes />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tzIndex: 1,\n\t\toverflow: \"hidden\",\n\t},\n\tappFrame: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t},\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tposition: \"absolute\",\n\t},\n\tappTitle: {\n\t\tflexGrow: .7\n\t},\n\tappForm: {\n\t\tflexGrow: .3\n\t},\n\tnavIconHide: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tdisplay: \"none\",\n\t\t},\n\t},\n\tdrawerHeader: { ...theme.mixins.toolbar },\n\tdrawerPaper: {\n\t\twidth: 250,\n\t\tbackgroundColor: theme.palette.background.default,\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: drawerWidth,\n\t\t\tposition: \"relative\",\n\t\t\theight: \"100%\",\n\t\t},\n\t},\n\tdrawerList: {\n\t\tminHeight: '100%',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column'\n\t},\n\tdrawerSpacer: {\n\t\tflexGrow: 1\n\t},\n\tcontent: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\toverflow: 'auto',\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 56px)\",\n\t\tmarginTop: 56,\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\theight: \"calc(100% - 64px)\",\n\t\t\tmarginTop: 64,\n\t\t},\n\t},\n}));\n\nexport default withRoot(App);\n","import { Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport configureStore from \"./configureStore\";\n\nconst { persistor, store } = configureStore();\n\nexport function ReduxRoot() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate\n\t\t\t\tloading={<Typography>Loading...</Typography>}\n\t\t\t\tpersistor={persistor}\n\t\t\t>\n\t\t\t\t<App />\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { ReduxRoot } from \"./ReduxRoot\";\n\nconst rootEl = document.getElementById(\"root\");\nReactDOM.render(<ReduxRoot />, rootEl);\n\n// comment in for PWA with service worker in production mode\n// registerServiceWorker();\n"],"sourceRoot":""}