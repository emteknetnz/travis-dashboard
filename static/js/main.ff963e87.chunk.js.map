{"version":3,"sources":["withRoot.tsx","actions/build.ts","actions/index.ts","actions/genericHttpAction.ts","actions/favourite.ts","components/BranchBuild.tsx","components/Drawer.tsx","actions/filter.ts","components/Form/CategoryFilter.tsx","components/Form/BuildForm.tsx","components/Favourite.tsx","selectors/useFavourite.ts","components/Build.tsx","components/ResultLoader.tsx","selectors/useBuilds.ts","pages/HomePage.tsx","selectors/useSearching.ts","pages/StatsPage.tsx","selectors/useStats.ts","Routes.tsx","App.tsx","reducers/createReducer.ts","reducers/Build/initalState.ts","reducers/Build/reducer.ts","reducers/filters.ts","reducers/favourites.ts","configureStore.tsx","reducers/index.ts","ReduxRoot.tsx","index.tsx"],"names":["theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","type","BuildActions","useActions","actions","deps","dispatch","useDispatch","useMemo","Array","isArray","map","a","bindActionCreators","url","loadingActionType","loadedActionType","Actions","initBuildData","LOADING_BUILDS","BUILD_LOADED","fetch","process","method","then","response","json","data","lastModified","headers","has","Date","get","undefined","payload","currentFavs","favs","localStorage","getItem","split","initFavourite","INIT_FAV","toggleFavourite","fav","idx","indexOf","push","splice","setItem","join","console","dir","buildStateColours","failed","errored","passed","running","created","started","expired","canceled","variantByState","BranchBuild","module","branch","build","id","state","classes","useStyles","Button","href","variant","className","branchBtn","makeStyles","props","background","property","mapping","styledBy","margin","flexGrow","textDecoration","states","legendStyles","legend","width","height","borderRadius","Drawer","useSelector","builds","ago","Math","round","getTime","history","useHistory","root","drawerHeader","Divider","List","ListItem","button","onClick","ListItemIcon","ListItemText","component","drawerSpacer","ListSubheader","key","mixins","toolbar","drawerPaper","backgroundColor","default","breakpoints","up","position","minHeight","display","flexDirection","toggleFilter","TOGGLE_FILTER","setTerm","term","triggerSearchTimeout","setTimeout","TRIGGER_SEARCH","SET_TERM","setCategoryFilter","categoryFilters","SET_CATEGORY_FILTER","categories","core","supported","unsupported","nonmodule","CategoryFilter","ReduxActions","filters","FormControl","InputLabel","color","Select","labelId","multiple","value","onChange","event","target","input","Input","renderValue","selected","Object","keys","MenuItem","Checkbox","checked","spacing","BuildForm","filter","partialTerm","FormGroup","row","TextField","label","FormControlLabel","control","Switch","Favourite","name","favourites","toggle","isFavourite","useFavourite","Ico","StarIcon","StarBorderIcon","preventDefault","fontSize","minWidth","Build","branches","Grid","item","xs","sm","md","style","Card","box","CardContent","Typography","gutterBottom","modTitle","cardActions","text","flexWrap","alignItems","NoResult","textAlign","ResultLoader","loading","children","results","empty","length","CircularProgress","size","justifyContent","statePriority","sortByState","b","stateGroups","moduleBranchFilter","mod","nextBranches","nextMajor","nextMinor","match","parseInt","reduce","max","toString","patches","RegExp","replace","trim","sort","slice","subVersion","nextPatch","previousPatch","values","branchStateReduce","accumulator","postProcess","moduleName","moduleMetaDada","ssModuleData","find","meta","repo","filterModule","stateSort","localeCompare","sortModule","useBuilds","modules","HomePage","isSearching","useSearching","favModules","includes","otherModules","centerContainer","container","direction","justify","paddingTop","paddingLeft","paddingRight","marginBottom","marginTop","labels","buildData","stats","datasets","StatsPage","forEach","useStats","count","Routes","exact","path","overflow","Component","zIndex","appFrame","appBar","drawer","appTitle","appForm","navIconHide","withRoot","buildActions","FavActions","React","mobileOpen","setMobileOpen","isMobile","useMediaQuery","down","handleDrawerToggle","basename","AppBar","Toolbar","IconButton","aria-label","noWrap","Hidden","mdUp","anchor","open","paper","onClose","ModalProps","keepMounted","smDown","ThemeProvider","CssBaseline","createReducer","initialState","handlers","action","hasOwnProperty","markExpiredBuild","buildDate","started_at","now","expiry","setDate","getDate","raw","clearTimeout","toLocaleLowerCase","persistConfig","version","storage","localforage","blacklist","middleware","createLogger","createBrowserHistory","applyMiddleware","thunk","persistedReducer","persistReducer","combineReducers","store","createStore","persistor","persistStore","configureStore","rootEl","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.ff963e87.chunk.js","sourcesContent":["import { CssBaseline } from \"@material-ui/core\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport * as React from \"react\";\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: \"#e5e5e5\",\n\t\t\tmain: \"#727272\",\n\t\t\tdark: \"#363839\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\tsecondary: {\n\t\t\tlight: \"#005AE1\",\n\t\t\tmain: \"#0F3287\",\n\t\t\tdark: \"#051E2D\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\ttype: 'dark'\n\t},\n});\n\nexport function withRoot(Component: any) {\n\tfunction WithRoot(props: object) {\n\t\t// MuiThemeProvider makes the theme available down the React tree\n\t\t// thanks to React context.\n\t\treturn (\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t{/* Reboot kickstart an elegant, consistent, and simple baseline to build upon. */}\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Component {...props} />\n\t\t\t</ThemeProvider>\n\t\t);\n\t}\n\n\treturn WithRoot;\n}\n","import { BuildData } from \"../model\";\nimport { genericHttpAction, DataPayload, ActionType } from \"./genericHttpAction\";\n\nexport interface BuildDataPayload extends  DataPayload<BuildData> {};\n\nexport enum BuildActions {\n  LOADING_BUILDS = \"LOADING_BUILDS\",\n  BUILD_LOADED = \"BUILD_LOADED\",\n}\n\nexport type BuildAction =\n  | ActionType<typeof BuildActions.LOADING_BUILDS, void>\n  | ActionType<typeof BuildActions.BUILD_LOADED, BuildDataPayload>\n;\n\nexport const initBuildData = genericHttpAction(\n  'buildData',\n  BuildActions.LOADING_BUILDS,\n  BuildActions.BUILD_LOADED\n);\n","import { useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BuildAction } from \"./build\";\nimport { Action as FilterAction} from './filter';\nimport { Action as FavouriteAction} from './favourite';\n\nexport function useActions(actions: any, deps?: any): any {\n\tconst dispatch = useDispatch();\n\treturn useMemo(\n\t\t() => {\n\t\t\tif (Array.isArray(actions)) {\n\t\t\t\treturn actions.map(a => bindActionCreators(a, dispatch));\n\t\t\t}\n\t\t\treturn bindActionCreators(actions, dispatch);\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tdeps ? [dispatch, ...deps] : deps\n\t);\n}\n\nexport type Action =\n  | BuildAction\n  | FilterAction\n  | FavouriteAction\n;\n","export interface DataPayload<T> {\n  json: T\n  lastModified: Date\n}\n\nexport type ActionType<t,p> = {\n  type: t\n  payload: p\n}\n\ninterface reduxAction {\n\ttype: string,\n\tpayload?: any\n}\n\ntype dispatchCallback = (action: reduxAction) => void;\n\n/**\n * Generate a generic redux action to fetch a JSON file\n * @param url\n * @param loadingActionType\n * @param loadedActionType\n */\nexport function genericHttpAction(url: string, loadingActionType: string, loadedActionType: string) {\n  return () => (\n    (dispatch: dispatchCallback) => {\n      dispatch({type: loadingActionType});\n\n      fetch(process.env.PUBLIC_URL + `/${url}.json`, {method: 'GET'})\n        .then((response) => response.json().then((data) => ({\n        json: data,\n        lastModified:\n          response.headers.has('last-modified') ?\n          new Date(response.headers.get('last-modified') as string) :\n          undefined\n          })))\n        .then(data => dispatch({type: loadedActionType, payload: data}));\n\n    }\n  );\n}\n","import { ActionType } from \"../reducers/ActionTypes\";\n\nexport enum Actions {\n  INIT_FAV = \"INIT_FAV\"\n}\n\nexport type Action =\n  | ActionType<typeof Actions.INIT_FAV, string[]>\n;\n\nconst FAVOURITES = 'FAVOURITES';\n\nfunction currentFavs(): string[] {\n  const favs = localStorage.getItem(FAVOURITES);\n  return favs?.split(',') || [];\n}\n\nexport function initFavourite() {\n  return {type: Actions.INIT_FAV, payload: currentFavs()}\n}\n\nexport function toggleFavourite(fav: string) {\n  const favs = currentFavs();\n\n  const idx = favs.indexOf(fav);\n\n  if (idx === -1) {\n    favs.push(fav)\n  } else {\n    favs.splice(idx, 1);\n  }\n\n  localStorage.setItem(FAVOURITES, favs.join(','));\n\n  console.dir(favs)\n\n\treturn {type: Actions.INIT_FAV, payload: favs};\n}\n","import { makeStyles, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport {BuildStateType} from \"../model/build\";\n\nexport const buildStateColours: { [state in BuildStateType]: string } = {\n\tfailed: \"#FE6B8B\",\n\terrored: \"#FE6B8B\",\n\tpassed: \"#61b047\",\n\trunning: \"#fede6b\",\n\tcreated: \"#fede6b\",\n\tstarted: \"#fede6b\",\n\texpired: \"#6b8bfe\",\n\tcanceled: \"#ad495e\",\n};\n\ninterface Props {\n\tmodule: string,\n\tbranch: string,\n\tbuild: {\n\t\tid: number,\n\t\tstate: string\n\t}\n}\n\nconst variantByState: any = {\n\terrored: 'contained',\n\tfailed: 'contained',\n\tpassed: 'outlined',\n\tcreated:  'contained',\n\tstarted:  'contained',\n\trunning:  'contained',\n}\n\nexport function BranchBuild({module, branch, build: {id, state}}: Props) {\n\tconst classes = useStyles({state});\n\treturn <Button \n\t\thref={`https://travis-ci.com/github/${module}/builds/${id}`} \n\t\tvariant={variantByState[state]} \nclassName={classes.branchBtn}>{branch}</Button>;\n}\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]];\n\nconst useStyles = makeStyles(({\n\tbranchBtn: props => {\n\t\tconst background = styledBy('state', props, buildStateColours)\n\t\treturn {\n\t\t\tmargin: '0 8px 8px 0',\n\t\t\tflexGrow: 1,\n\t\t\tbackground,\n\t\t\ttextDecoration: 'none',\n\t\t\t'&:hover': { background }\n\t\t}\n\t},\n}));\n","// prettier-ignore\nimport { Divider, List, ListItem, ListItemIcon, ListItemText, ListSubheader } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PieChartIcon from '@material-ui/icons/PieChart';\nimport GitHub from \"@material-ui/icons/GitHub\";\nimport UpdateIcon from '@material-ui/icons/Update';\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers/index\";\nimport { BuildStateType } from \"../model\";\nimport { buildStateColours } from './BranchBuild';\nimport { useHistory } from 'react-router-dom';\n\nconst states: BuildStateType[] = [\n\t'failed',\n\t'canceled',\n\t'expired',\n\t'running',\n\t'passed'\n];\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]]\n\nconst legendStyles = makeStyles({\n\tlegend: props => ({\n\t\tbackground: styledBy('state', props, buildStateColours),\n\t\twidth: 24,\n\t\theight: 24,\n\t\tborderRadius: 3\n\t})\n});\n\nexport function Drawer(props: {  }) {\n\tconst classes = useStyles();\n\tconst lastModified = useSelector((state: RootState) => state.builds.lastModified);\n\tconst ago = lastModified ?\n\t    `Fetched ${Math.round(((new Date()).getTime() - lastModified.getTime()) / 1000 / 60)} min ago` :\n\t\t'';\n\tconst history = useHistory();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.drawerHeader} />\n\t\t\t<Divider />\n\t\t\t<List>\n\t\t\t\t<ListItem button onClick={() => history.push(\"/\")}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<HomeIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Builds\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem button onClick={() => history.push(\"/stats\")}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<PieChartIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Stats\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem component=\"a\" button href=\"https://github.com/maxime-rainville/travis-dashboard/\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<GitHub />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"View Source\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem component=\"a\" button href=\"https://github.com/maxime-rainville/travis-dashboard/actions?query=workflow%3A%22Build+and+Deploy%22\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<UpdateIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Refresh data\" secondary={ago} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<div className={classes.drawerSpacer}></div>\n\t\t\t<List>\n\t\t\t\t<ListSubheader>Legend</ListSubheader>\n\t\t\t\t{\n\t\t\t\t\tstates.map(state => (\n\t\t\t\t\t\t<ListItem key={state}>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<span className={legendStyles({state}).legend}></span>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={state} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</List>\n\t\t</div>\n\t);\n}\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n\tdrawerHeader: { ...theme.mixins.toolbar },\n\tdrawerPaper: {\n\t\twidth: 250,\n\t\tbackgroundColor: theme.palette.background.default,\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: drawerWidth,\n\t\t\tposition: \"relative\",\n\t\t\theight: \"100%\",\n\t\t},\n\t},\n\troot: {\n\t\tminHeight: '100%',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column'\n\t},\n\tdrawerSpacer: {\n\t\tflexGrow: 1\n\t},\n}));\n","import { ActionType } from \"../reducers/ActionTypes\";\nimport { CategoryFilterType } from \"../reducers/filters\";\n\nexport interface SetTermPayload {\n  term: string,\n  triggerSearchTimeout: NodeJS.Timeout\n}\n\nexport interface SetCatPayload {\n  categoryFilters: CategoryFilterType[]\n}\n\nexport enum Actions {\n  LOADING_BUILDS = \"LOADING_BUILDS\",\n  BUILD_LOADED = \"BUILD_LOADED\",\n  TOGGLE_FILTER = \"TOGGLE_FILTER\",\n  SET_TERM = \"SET_TERM\",\n  TRIGGER_SEARCH = \"TRIGGER_SEARCH\",\n  SET_CATEGORY_FILTER = \"SET_CATEGORY_FILTER\",\n}\n\nexport type Action =\n  | ActionType<typeof Actions.TOGGLE_FILTER, undefined>\n  | ActionType<typeof Actions.SET_TERM, SetTermPayload>\n  | ActionType<typeof Actions.TRIGGER_SEARCH, undefined>\n  | ActionType<typeof Actions.SET_CATEGORY_FILTER, SetCatPayload>\n;\n\nexport function toggleFilter() {\n\treturn {type: Actions.TOGGLE_FILTER}\n}\n\ntype dispatchCallback = (action: Action) => void;\n\nexport function setTerm(term: string) {\n\treturn (dispatch: dispatchCallback) => {\n\t\tconst triggerSearchTimeout = setTimeout(() => {\n\t\t\tdispatch({type: Actions.TRIGGER_SEARCH, payload: undefined});\n\t\t}, 500)\n\n\t\tdispatch({\n\t\t\ttype: Actions.SET_TERM,\n\t\t\tpayload:{\n\t\t\t\tterm,\n\t\t\t\ttriggerSearchTimeout\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function setCategoryFilter(categoryFilters: CategoryFilterType[]) {\n\treturn {type: Actions.SET_CATEGORY_FILTER, payload: {categoryFilters}}\n}\n","import { makeStyles, FormControl, InputLabel, Select, Input, MenuItem, Checkbox, ListItemText} from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { RootState } from \"../../reducers\";\nimport { CategoryFilterType } from \"../../reducers/filters\";\n\ninterface Props {\n\tclassName?: string\n}\n\n\nconst categories: {[key in CategoryFilterType]: string} = {\n\tcore: 'Core',\n\tsupported: 'Supported',\n\tunsupported: 'Unsupported',\n\tnonmodule: 'Non-module'\n}\nexport function CategoryFilter({className}: Props) {\n\tconst {setCategoryFilter} = useActions(ReduxActions);\n\tconst {categoryFilters} = useSelector((state: RootState) => state.filters);\n  const classes = useStyles();\n\n  if (!categoryFilters) {\n    return null;\n  }\n\n  return (\n\t\t<FormControl className={classes.root}>\n        <InputLabel id=\"demo-mutiple-checkbox-label\" color=\"secondary\">Category</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-checkbox-label\"\n          id=\"demo-mutiple-checkbox\"\n          multiple\n          value={categoryFilters}\n          onChange={(event) => setCategoryFilter(event.target.value)}\n          input={<Input />}\n          renderValue={(selected) => (selected as CategoryFilterType[]).map(key => categories[key]).join(', ')}\n        >\n          {Object.keys(categories).map((key) => (\n            <MenuItem key={key} value={key}>\n              <Checkbox checked={categoryFilters.indexOf(key as CategoryFilterType) > -1} />\n              <ListItemText primary={categories[(key as CategoryFilterType)]} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\t);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n    margin: theme.spacing(1),\n    width: 200\n  },\n}));\n","import { makeStyles, FormGroup, Switch, FormControlLabel, TextField } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { RootState } from \"../../reducers\";\nimport { CategoryFilter } from \"./CategoryFilter\";\n\ninterface Props {\n\tclassName?: string\n}\n\nexport function BuildForm({className}: Props) {\n\tconst {toggleFilter, setTerm} = useActions(ReduxActions);\n\tconst {filter, partialTerm} = useSelector((state: RootState) => state.filters);\n\tconst classes = useStyles();\n\treturn (\n\t\t<FormGroup row className={`${className} ${classes.root}`}>\n\t\t\t<TextField\n\t\t\t\tlabel=\"Filter by name\" variant=\"filled\" color=\"secondary\"\n\t\t\t\tonChange={event => setTerm(event.target.value)} className={classes.term} value={partialTerm} />\n\t\t\t<CategoryFilter />\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={<Switch checked={filter === 'latestStable'} onChange={toggleFilter} />}\n\t\t\t\tlabel=\"Latest only\" color=\"secondary\"/>\n\t\t</FormGroup>\n\t);\n}\n\nconst useStyles = makeStyles(({\n\tterm: {\n\t\tflexGrow: 1\n\t},\n\troot: {\n\t}\n\n}));\n","import { makeStyles, Theme, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useFavourite } from \"../selectors/useFavourite\";\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\ninterface Props {\n  name: string\n}\n\nexport function Favourite({name}: Props) {\n  const classes = useStyles();\n  const {isFavourite, toggle} = useFavourite(name);\n  const Ico = isFavourite ? StarIcon : StarBorderIcon;\n\n\treturn (\n\t\t<Button className={classes.root} onClick={(event) => {event.preventDefault(); toggle();}} >\n      <Ico fontSize=\"small\"/>\n    </Button>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tminWidth: 0\n\t},\n}));\n","import { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useActions } from \"../actions\";\nimport * as ReduxActions from \"../actions/favourite\";\n\nexport function useFavourite(module: string) {\n  const favourites = useSelector((state: RootState) => state.favourites);\n  const { toggleFavourite } = useActions(ReduxActions);\n\n  return {\n    toggle: () => toggleFavourite(module),\n    isFavourite: favourites.indexOf(module) !== -1\n  }\n\n}\n","import { makeStyles, Theme, Typography, Card, CardContent, Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Module } from \"../model\";\nimport { BranchBuild } from './BranchBuild';\nimport { Favourite } from \"./Favourite\";\n\nexport function Build({name, branches, state}: Module) {\n  const classes = useStyles({state});\n\treturn (\n\t\t<Grid item xs={6} sm={4} md={3}>\n\t\t\t<a href={`https://travis-ci.com/github/${name}/branches`} style={{textDecoration: 'none'}}>\n\t\t\t\t<Card className={classes.box}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography gutterBottom variant=\"h6\" component=\"h2\" className={classes.modTitle}>\n\t\t\t\t\t\t\t<span>{name}</span> <Favourite name={name} />\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{ state !== 'passed' && <div className={classes.cardActions}>\n\t\t\t\t\t\t\t{Object.keys(branches).map(branch => <BranchBuild module={name} branch={branch} key={branch} build={branches[branch]} />)}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</a>\n\t\t</Grid>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\tbox: (props: any) => ({\n\t\tborderRadius: 8,\n\t\ttextDecoration: 'none',\n\t\tbackground: props['state'] === 'passed' ? \"linear-gradient(45deg, #61b047 30%, #00ca99 90%)\" : undefined\n\t}),\n\n\ttext: {\n\t\tcolor: \"white\",\n\t},\n\n\tbranchBtn: {\n\t\tmargin: '0 8px 8px 0',\n\t\tflexGrow: 1\n\t},\n\n\tcardActions: {\n\t\tflexWrap: 'wrap',\n\t\tdisplay: 'flex'\n  },\n  modTitle: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    \"& > :first-child\": {\n      flexGrow: 1\n    }\n  }\n\n}));\n","import { CircularProgress, Typography } from \"@material-ui/core\";\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\n\n\ninterface Props {\n  loading: boolean,\n  results: any[] | boolean,\n  children: React.ReactNode\n}\n\nfunction NoResult() {\n  return (\n    <Typography variant=\"h1\" style={{textAlign: 'center'}} >\n      <SentimentDissatisfiedIcon style={{fontSize: '6rem'}} />\n      <br />Oh no! There's no results.\n    </Typography>\n  );\n}\n\nexport function ResultLoader({loading, children, results}: Props) {\n  const classes = useStyles();\n\n  const empty = Array.isArray(results) ? results.length === 0 : !results;\n\treturn (\n    <>\n    {\n      loading || empty ?\n        <div className={classes.root}>\n          {loading ? <CircularProgress size={100} /> : <NoResult /> }\n        </div>\n        : children\n    }\n    </>\n  );\n}\n\nconst useStyles = makeStyles({\n\troot: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: \"100%\",\n\t},\n});\n","import { BranchData, BranchList, BuildStateType, Module } from \"../model\";\nimport { data as ssModuleData } from \"silverstripe-cms-meta\";\nimport { CategoryFilterType, FilterType } from \"../reducers/filters\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useMemo } from \"react\";\n\n\nconst statePriority: BuildStateType[][] = [\n\t['errored', 'failed'],\n\t['canceled'],\n\t['expired'],\n\t['running', 'created', 'started'],\n\t['passed']\n];\n\n/**\n * Sort states with the least desirable one showing up first.\n * @param a\n * @param b\n */\nfunction sortByState(a: BuildStateType, b: BuildStateType) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\n\tfor (const stateGroups of statePriority) {\n\t\tif (stateGroups.indexOf(a) > -1) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (stateGroups.indexOf(b) > -1) {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n/**\n * Sort module by build state and then by name.\n * @param a\n * @param b\n */\nfunction sortModule(a: Module, b: Module) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\tconst stateSort = sortByState(a.state, b.state);\n\treturn stateSort !== 0 ? stateSort : a.name.localeCompare(b.name);\n}\n\n/**\n * Filter out branches that are not the latest. Branches that will be returned are:\n * - master/main\n * - the next minor release branch\n * - the last two patch release branch\n * @param branches\n * @param mod\n */\nfunction moduleBranchFilter(branches: BranchList, mod: string): BranchList {\n\tlet nextBranches: {\n\t\tnextMajor ?: string,\n\t\tnextMinor ?: string,\n\t\tnextPatch ?: string,\n\t\tpreviousPatch ?: string,\n\t} = { }\n\n\tconst keys = Object.keys(branches);\n\n\n\tif (keys.indexOf('master') > -1) {\n\t\tnextBranches.nextMajor = 'master';\n\t} else if (keys.indexOf('main') > -1) {\n\t\tnextBranches.nextMajor = 'main';\n\t}\n\n\tconst nextMinor = keys.filter(key => key.match(/^\\d+$/))\n\t\t.map(key => parseInt(key))\n\t\t.reduce((a,b) => Math.max(a,b), 0);\n\n\tif (nextMinor) {\n\t\tnextBranches.nextMinor = nextMinor.toString();\n\t\tconst patches = keys\n\t\t\t.filter(key => key.match(new RegExp(`^${nextMinor}\\\\.\\\\d+$`)))\n\t\t\t.map(key => {\n\t\t\t\treturn key.replace(`${nextMinor}.`, '').trim()\n\t\t\t})\n\t\t\t.map(key => parseInt(key)).sort()\n\t\t\t.slice(-2)\n\t\t\t.map(subVersion => `${nextMinor}.${subVersion}`);\n\n\t\tif (patches.length === 2) {\n\t\t\tnextBranches.nextPatch = patches[1];\n\t\t\tnextBranches.previousPatch = patches[0];\n\t\t} else if (patches.length === 1) {\n\t\t\tnextBranches.nextPatch = patches[0];\n\t\t}\n\t}\n\n\n\treturn Object.values(nextBranches).reduce((nextBranches, key) => {\n\t\treturn key === undefined ?\n\t\t\tnextBranches :\n\t\t\t{...nextBranches, [key]: branches[key]}\n\t}, {});\n}\n\n/**\n * Given a list of branches, find the worst \"state\". (e.g \"Running\" is worst than \"Passing\" and \"Failed\" is worst than \"running\")\n * This is use to attach a state to a given module.\n * @param accumulator\n * @param param1\n */\nfunction branchStateReduce(accumulator:BuildStateType, {state}:BranchData) {\n  return sortByState(accumulator, state) > 0 ? state : accumulator;\n}\n\nfunction filterModule(moduleName:string, categoryFilters: CategoryFilterType[]) {\n\tif (categoryFilters.length === 4) {\n\t\treturn true;\n\t}\n\n\tconst moduleMetaDada = ssModuleData.find((meta) => meta.repo === moduleName );\n\treturn moduleMetaDada ? (\n\t\t(categoryFilters.indexOf('core') > -1 && moduleMetaDada.core ) ||\n\t\t(categoryFilters.indexOf('supported') > -1 && moduleMetaDada.supported ) ||\n\t\t(categoryFilters.indexOf('unsupported') > -1 && !moduleMetaDada.supported )\n\t) : categoryFilters.indexOf('nonmodule') > -1;\n}\n\nfunction postProcess(data: Module[], filter: FilterType, categoryFilters: CategoryFilterType[], term: string) {\n  return data\n\t\t.filter((module) => filterModule(module.name, categoryFilters))\n\t\t.filter(({name}) => (name.indexOf(term) !== -1))\n\t\t.map(({branches, ...data}) => ({\n\t\t\tbranches: filter === 'latestStable' ? moduleBranchFilter(branches, data.name) : branches,\n\t\t\t...data\n\t\t}))\n\t\t.map(data => ({...data, state: Object.values(data.branches).reduce(branchStateReduce, 'passed')}))\n\t\t.sort((a, b) => sortModule(a, b));\n}\n\nexport function useBuilds() {\n  const {filters: {categoryFilters, filter, term}, builds} = useSelector((state: RootState) => state);\n\n  return {\n    ...builds,\n    modules: useMemo(\n      () => postProcess(builds.modules, filter, categoryFilters, term),\n      [builds.modules, categoryFilters, filter, term]\n    )\n  }\n\n}\n","import { Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Build } from \"../components\";\nimport { ResultLoader } from \"../components/ResultLoader\";\nimport { useBuilds } from \"../selectors/useBuilds\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useSearching } from \"../selectors/useSearching\";\n\nexport function HomePage() {\n\tconst classes = useStyles();\n  const {modules, loading} = useBuilds();\n  const isSearching = useSearching();\n  const { favourites } = useSelector(({favourites}: RootState) => ({favourites}));\n  const favModules = modules.filter(({name}) => favourites.includes(name));\n  const otherModules = modules.filter(({name}) => !favourites.includes(name));\n\n\treturn (\n  <ResultLoader loading={loading || isSearching} results={modules}>\n\t\t<div className={classes.root}>\n\n      {favModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{favModules.map( ({name, ...props}) => <Build key={name} name={name} {...props} />)}\n\t\t\t</Grid>}\n\n      {otherModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{otherModules.map( ({name, ...props}) => <Build key={name} name={name} {...props} />)}\n\t\t\t</Grid>}\n\t\t</div>\n  </ResultLoader>);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n    justifyContent: \"flex-start\",\n    marginBottom: 60\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\n\n/**\n * Determine if the user is currently typings something in the search box\n */\nexport function useSearching() {\n  const { partialTerm, term } = useSelector(({filters: {partialTerm, term}}: RootState) => ({partialTerm, term}));\n\n  return partialTerm !== term;\n\n}\n","import { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Doughnut } from 'react-chartjs-2';\nimport { buildStateColours } from '../components/BranchBuild';\nimport { ResultLoader } from \"../components/ResultLoader\";\nimport { BuildStateType } from \"../model\";\nimport { useStats } from \"../selectors/useStats\";\n\nconst labels: BuildStateType[] = [\n\t'failed',\n\t'canceled',\n\t'expired',\n\t'running',\n\t'passed'\n];\n\nconst backgroundColor = labels.map(state => buildStateColours[state]);\n\nfunction buildData(stats: {[state in BuildStateType]: number}) {\n\treturn {\n\t\tlabels,\n\t\tdatasets: [{\n\t\t\tdata: labels.map(label => stats[label]),\n\t\t\tbackgroundColor\n\t\t}]\n\t};\n}\n\n\nexport function StatsPage() {\n\tconst classes = useStyles();\n  const {stats, loading} = useStats();\n\n  const results = Object.values(stats).find(count => count > 0) !== undefined;\n\n\treturn (\n\t\t<ResultLoader loading={loading} results={results}>\n      <div className={classes.root}>\n        <Doughnut data={buildData(stats)} legend={false}  />\n      </div>\n    </ResultLoader>\n\t);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n\t\t// flex: 1,\n\t\t// height: \"90%\",\n\t\t// display: \"flex\",\n\t\t// alignItems: \"center\",\n\t\t// justifyContent: \"center\",\n\t\t// flexDirection: \"column\",\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { useBuilds } from \"./useBuilds\";\n\nexport function useStats() {\n  const {loading, modules} = useBuilds();\n\n  const initStats = {\n\t\t'passed': 0,\n\t\t'errored': 0,\n\t\t'failed': 0,\n\t\t'running': 0,\n\t\t'expired': 0,\n\t\t'canceled': 0,\n\t\t'created': 0,\n\t\t'started': 0\n\t};\n\n\tconst stats =  modules.reduce((accumulator, module) => {\n\t\tObject.values(module.branches).forEach(branch => accumulator[branch.state]++);\n\t\treturn accumulator;\n  }, initStats);\n\n  return {stats, loading};\n}\n","// prettier-ignore\nimport { Theme } from \"@material-ui/core/styles\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { HomePage, StatsPage } from \"./pages\";\n\nexport function Routes() {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t<Route path=\"/home\" component={HomePage} />\n\t\t\t\t<Route path=\"/stats\" component={StatsPage} />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\toverflow: 'auto',\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 56px)\",\n\t\tmarginTop: 56,\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\theight: \"calc(100% - 64px)\",\n\t\t\tmarginTop: 64,\n\t\t},\n\t},\n}));\n","// prettier-ignore\nimport { AppBar, Drawer as DrawerMui, Hidden, IconButton, Toolbar, Typography, useMediaQuery } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { withRoot } from \"./withRoot\";\nimport { useActions } from \"./actions\";\nimport * as BuildActions from \"./actions/build\";\nimport * as FavActions from \"./actions/favourite\";\nimport { Drawer } from './components/Drawer';\nimport { BuildForm} from \"./components/Form/BuildForm\";\n\nimport { Routes } from './Routes';\n\n\nfunction App() {\n  const buildActions = useActions(BuildActions);\n  const { initFavourite } = useActions(FavActions);\n\tReact.useEffect( () => {\n    buildActions.initBuildData();\n    initFavourite();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst classes = useStyles();\n\tconst [mobileOpen, setMobileOpen] = React.useState(true);\n\n\tconst isMobile = useMediaQuery((theme: Theme) =>\n\t\ttheme.breakpoints.down(\"sm\")\n\t);\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen);\n\t};\n\n\treturn (\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<div className={classes.appFrame}>\n\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t\tclassName={classes.navIconHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tnoWrap={isMobile}\n\t\t\t\t\t\t\t\tclassName={classes.appTitle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSilverstripe CMS Squad Dashboard\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<BuildForm className={classes.appForm} />\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t<DrawerMui\n\t\t\t\t\t\t\tvariant=\"temporary\"\n\t\t\t\t\t\t\tanchor={\"left\"}\n\t\t\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\t\t\tModalProps={{\n\t\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Drawer />\n\t\t\t\t\t\t</DrawerMui>\n\t\t\t\t\t</Hidden>\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<DrawerMui\n\t\t\t\t\t\t\tvariant=\"permanent\"\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Drawer />\n\t\t\t\t\t\t</DrawerMui>\n\t\t\t\t\t</Hidden>\n\t\t\t\t\t<Routes />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tzIndex: 1,\n\t\toverflow: \"hidden\",\n\t},\n\tappFrame: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t},\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tposition: \"absolute\",\n\t},\n\tappTitle: {\n\t\tflexGrow: .7\n\t},\n\tappForm: {\n\t\tflexGrow: .3\n\t},\n\tnavIconHide: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tdisplay: \"none\",\n\t\t},\n\t},\n\tdrawerPaper: {\n\t    width: 250,\n        backgroundColor: theme.palette.background.default,\n        [theme.breakpoints.up(\"md\")]: {\n                width: drawerWidth,\n                position: \"relative\",\n                height: \"100%\",\n        },\n\t},\n}));\n\nexport default withRoot(App);\n","/**\n * Created by toni on 12.03.2017.\n */\nimport { Reducer } from \"redux\";\nimport { Action } from \"../actions\";\n\nexport default function createReducer<S>(\n\tinitialState: S,\n\thandlers: any\n): Reducer<S> {\n\tconst r = (state: S = initialState, action: Action): S => {\n\t\tif (handlers.hasOwnProperty(action.type)) {\n\t\t\treturn handlers[action.type](state, action);\n\t\t} else {\n\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn r as Reducer<S>;\n}\n","import { BuildState } from \"../../model\";\n\n/**\n * Inital state of the Build State\n */\nexport const initialState: BuildState = {\n\tmodules: [],\n\tloading: true,\n\tstats: {\n\t\t'passed': 0,\n\t\t'errored': 0,\n\t\t'failed': 0,\n\t\t'running': 0,\n\t\t'expired': 0,\n\t\t'canceled': 0,\n\t\t'created': 0,\n\t\t'started': 0\n\t}\n};\n","import { BuildAction, BuildActions, BuildDataPayload } from \"../../actions/build\";\nimport { BranchData, BuildData, BuildState} from \"../../model\";\nimport createReducer from \"../createReducer\";\nimport { initialState } from \"./initalState\";\n\n/**\n * Create an artificial state of expired for builds that haven't run in more than 30 days.\n * @param data\n */\nfunction markExpiredBuild(data: BranchData): BranchData {\n  if (!data || data.state !== 'passed') {\n\t  return data;\n  }\n\n  const buildDate = new Date(data.started_at);\n  const now = new Date();\n  const expiry = new Date();\n  expiry.setDate(now.getDate() - 30);\n\n  return (buildDate < expiry) ? {...data, state: 'expired'} : data;\n}\n\nfunction postProcess(data: BuildData) {\n\treturn Object.keys(data)\n\t\t.map(module => ({\n\t\t\tbranches: data[module],\n\t\t\tname: module,\n\t\t}))\n\t\t.map(({branches, ...data}) => {\n\t\t\tfor (const key in branches) {\n\t\t\t\tbranches[key] = markExpiredBuild(branches[key]);\n\t\t\t}\n\t\t\treturn {branches, ...data};\n\t\t})\n}\n\nexport const builds = createReducer<BuildState>(initialState, {\n\t[BuildActions.LOADING_BUILDS]() {\n\t\treturn initialState;\n\t},\n\t[BuildActions.BUILD_LOADED](state: BuildState, action: BuildAction) {\n\t\tconst {json, lastModified} = action.payload as BuildDataPayload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tmodules: postProcess(json),\n\t\t\tlastModified: lastModified,\n\t\t\tloading: false,\n\t\t\traw: json\n\t\t};\n\t}\n});\n","import { Action, Actions, SetCatPayload, SetTermPayload } from \"../actions/filter\";\nimport createReducer from \"./createReducer\";\n\n\nexport type FilterType = 'all'|'latestStable';\nexport type CategoryFilterType = 'core'|'supported'|'unsupported'|'nonmodule';\n\nexport interface FilterState {\n\tfilter: FilterType,\n  term: string,\n  partialTerm: string,\n\ttriggerSearchTimeout?: NodeJS.Timeout,\n  categoryFilters: CategoryFilterType[],\n}\n\n/**\n * Inital state of the Build State\n */\nconst initialState: FilterState = {\n\tfilter: 'latestStable',\n  term: '',\n  partialTerm: '',\n  categoryFilters: ['core', 'nonmodule', 'supported', 'unsupported'],\n};\n\n\nexport const filters = createReducer<FilterState>(initialState, {\n\t[Actions.TOGGLE_FILTER]({filter, ...state}: FilterState) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tfilter: filter === 'latestStable' ? 'all' : 'latestStable'\n\t\t};\n\t},\n\t[Actions.SET_TERM](state: FilterState, action: Action) {\n\t\tstate.triggerSearchTimeout && clearTimeout(state.triggerSearchTimeout);\n\n\t\tconst {term, triggerSearchTimeout} =  action.payload as SetTermPayload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tpartialTerm: term.toLocaleLowerCase(),\n      triggerSearchTimeout,\n\t\t};\n\t},\n\t[Actions.TRIGGER_SEARCH](state: FilterState) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tterm: state.partialTerm\n\t\t};\n\t},\n\t[Actions.SET_CATEGORY_FILTER](state: FilterState, action: Action) {\n\t\tconst {categoryFilters} = action.payload as SetCatPayload;\n\t\treturn {...state, categoryFilters};\n\t}\n});\n","import { Action, Actions } from \"../actions/favourite\";\nimport createReducer from \"./createReducer\";\n\n\nexport type FavouriteState = string[];\n\nconst initialState: FavouriteState = [];\n\n\nexport const favourites = createReducer<FavouriteState>(initialState, {\n\t[Actions.INIT_FAV](state: FavouriteState, action: Action) {\n    return action.payload || [];\n\t},\n});\n","import { createBrowserHistory } from \"history\";\nimport * as localforage from \"localforage\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { createLogger } from \"redux-logger\";\nimport { PersistConfig, persistReducer, persistStore } from \"redux-persist\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst persistConfig: PersistConfig<any> = {\n\tkey: \"root\",\n\tversion: 1,\n\tstorage: localforage,\n\tblacklist: [],\n};\n\nconst logger = (createLogger as any)();\nconst history = createBrowserHistory();\n\nconst dev = process.env.NODE_ENV === \"development\";\n\nlet middleware = dev ? applyMiddleware(thunk, logger) : applyMiddleware(thunk);\n\nif (dev) {\n\tmiddleware = composeWithDevTools(middleware);\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history));\n\nexport default () => {\n\tconst store = createStore(persistedReducer, {}, middleware) as any;\n\tconst persistor = persistStore(store);\n\treturn { store, persistor };\n};\n\nexport { history };\n","import { History } from \"history\";\nimport { combineReducers } from \"redux\";\nimport { BuildState } from \"../model\";\nimport { builds } from \"./Build/reducer\";\nimport { filters, FilterState } from \"./filters\";\nimport { favourites, FavouriteState } from \"./favourites\";\n\nexport interface RootState {\n  builds: BuildState\n  filters: FilterState\n  favourites: FavouriteState\n}\n\nexport default (history: History) =>\n\tcombineReducers({\n    builds,\n    filters,\n    favourites\n\t});\n","import { Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport configureStore from \"./configureStore\";\n\nconst { persistor, store } = configureStore();\n\nexport function ReduxRoot() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate\n\t\t\t\tloading={<Typography>Loading...</Typography>}\n\t\t\t\tpersistor={persistor}\n\t\t\t>\n\t\t\t\t<App />\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { ReduxRoot } from \"./ReduxRoot\";\n\nconst rootEl = document.getElementById(\"root\");\nReactDOM.render(<ReduxRoot />, rootEl);\n\n// comment in for PWA with service worker in production mode\n// registerServiceWorker();\n"],"sourceRoot":""}