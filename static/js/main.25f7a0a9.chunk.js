(this["webpackJsonpcreate-react-app-typescript-redux"]=this["webpackJsonpcreate-react-app-typescript-redux"]||[]).push([[0],{105:function(e,t,a){e.exports=a(116)},116:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"build",(function(){return Z}));var n={};a.r(n),a.d(n,"initBuildData",(function(){return we})),a.d(n,"toggleFilter",(function(){return Te})),a.d(n,"setTerm",(function(){return Se})),a.d(n,"setCategoryFilter",(function(){return De}));var c,o=a(0),i=a(9),l=a(52),u=a(23),d=a(80),s=a(14),m=a(18),p=a(62),f=a(167),b=a(161),E=a(118),g=a(168),h=a(163),v=a(169),O=a(170),j=a(171),y=a(172),x=a(119),w=a(176),T=a(177),S=a(90),D=a.n(S),L=a(91),k=a.n(L),I=a(92),R=a.n(I),F=a(94),G=a.n(F),_=a(120),C=a(36),N=a(93),A=a(19),B=a(81),M=a(15),H=(a(82),a(83)),U=a(70),P=a(67),Y=a(47);!function(e){e.LOADING_BUILDS="LOADING_BUILDS",e.BUILD_LOADED="BUILD_LOADED",e.TOGGLE_FILTER="TOGGLE_FILTER",e.SET_TERM="SET_TERM",e.TRIGGER_SEARCH="TRIGGER_SEARCH",e.SET_CATEGORY_FILTER="SET_CATEGORY_FILTER"}(c||(c={}));var z,q=a(97),J={modules:[],loading:!0,raw:{},filter:"latestStable",term:"",categoryFilters:["core","nonmodule","supported","unsupported"]},V=[["errored","failed"],["canceled"],["expired"],["running","created","started"],["passed"]];function W(e,t){if(e===t)return 0;var a=!0,r=!1,n=void 0;try{for(var c,o=V[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var i=c.value;if(i.indexOf(e)>-1)return-1;if(i.indexOf(t)>-1)return 1}}catch(l){r=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return 0}function $(e,t){var a={},r=Object.keys(e);r.indexOf("master")>-1?a.nextMajor="master":r.indexOf("main")>-1&&(a.nextMajor="main");var n=r.filter((function(e){return e.match(/^\d+$/)})).map((function(e){return parseInt(e)})).reduce((function(e,t){return Math.max(e,t)}),0);if(n){a.nextMinor=n.toString();var c=r.filter((function(e){return e.match(new RegExp("^".concat(n,"\\.\\d+$")))})).map((function(e){return e.replace("".concat(n,"."),"").trim()})).map((function(e){return parseInt(e)})).sort().slice(-2).map((function(e){return"".concat(n,".").concat(e)}));2===c.length?(a.nextPatch=c[1],a.previousPatch=c[0]):1===c.length&&(a.nextPatch=c[0])}return Object.values(a).reduce((function(t,a){return void 0===a?t:Object(s.a)({},t,Object(m.a)({},a,e[a]))}),{})}function K(e,t){var a=t.state;return W(e,a)>0?a:e}function Q(e){if(!e||"passed"!==e.state)return e;var t=new Date(e.started_at),a=new Date,r=new Date;return r.setDate(a.getDate()-30),t<r?Object(s.a)({},e,{state:"expired"}):e}function X(e,t){var a=t.filter,r=t.term,n=t.categoryFilters;return Object.keys(e).filter((function(e){return function(e,t){if(4===t.length)return!0;var a=q.a.find((function(t){return t.repo===e}));return a?t.indexOf("core")>-1&&a.core||t.indexOf("supported")>-1&&a.supported||t.indexOf("unsupported")>-1&&!a.supported:t.indexOf("nonmodule")>-1}(e,n)})).map((function(t){return{branches:e[t],name:t}})).filter((function(e){return-1!==e.name.indexOf(r)})).map((function(e){var t=e.branches,r=Object(Y.a)(e,["branches"]);return Object(s.a)({branches:"latestStable"===a?$(t,r.name):t},r)})).map((function(e){var t=e.branches,a=Object(Y.a)(e,["branches"]);for(var r in t)t[r]=Q(t[r]);return Object(s.a)({branches:t},a)})).map((function(e){return Object(s.a)({},e,{state:Object.values(e.branches).reduce(K,"passed")})})).sort((function(e,t){return function(e,t){if(e===t)return 0;var a=W(e.state,t.state);return 0!==a?a:e.name.localeCompare(t.name)}(e,t)}))}var Z=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](a,r):a}}(J,(z={},Object(m.a)(z,c.LOADING_BUILDS,(function(){return J})),Object(m.a)(z,c.BUILD_LOADED,(function(e,t){var a=t.payload,r=a.json,n=a.lastModified;return Object(s.a)({},e,{modules:X(r,e),lastModified:n,loading:!1,raw:r})})),Object(m.a)(z,c.TOGGLE_FILTER,(function(e){var t=e.filter,a=Object(Y.a)(e,["filter"]),r="latestStable"===t?"all":"latestStable",n=Object(s.a)({},a,{filter:r});return Object(s.a)({},n,{modules:X(a.raw,n)})})),Object(m.a)(z,c.SET_TERM,(function(e,t){e.triggerSearchTimeout&&clearTimeout(e.triggerSearchTimeout);var a=t.payload,r=a.term,n=a.triggerSearchTimeout;return Object(s.a)({},e,{term:r.toLocaleLowerCase(),triggerSearchTimeout:n})})),Object(m.a)(z,c.TRIGGER_SEARCH,(function(e){return Object(s.a)({},e,{modules:X(e.raw,e)})})),Object(m.a)(z,c.SET_CATEGORY_FILTER,(function(e,t){var a=t.payload.categoryFilters,r=Object(s.a)({},e,{categoryFilters:a});return Object(s.a)({},r,{modules:X(e.raw,r)})})),z)),ee={key:"root",version:1,storage:B,blacklist:[]},te=(Object(H.createLogger)(),Object(A.a)()),ae=Object(M.applyMiddleware)(P.a);var re=Object(U.a)(ee,Object(M.combineReducers)(Object(s.a)({},r))),ne=a(155),ce=a(152),oe=a(153),ie=a(154),le=a(86),ue=a(149),de={failed:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",errored:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",passed:"linear-gradient(45deg, #61b047 30%, #00ca99 90%)",running:"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)",created:"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)",started:"linear-gradient(45deg, #fede6b 30%, #8bfe6b 90%)",expired:"linear-gradient(45deg, #6b8bfe 30%, #de6bfe 90%)",canceled:"linear-gradient(45deg, #ad495e 30%, #ad9749 90%)"},se={errored:"contained",failed:"contained",passed:"outlined",created:"contained",started:"contained",running:"contained"};function me(e){var t=e.module,a=e.branch,r=e.build,n=r.id,c=r.state,i=pe({state:c});return o.createElement(ue.a,{href:"https://travis-ci.com/github/".concat(t,"/builds/").concat(n),variant:se[c],className:i.branchBtn},a)}var pe=Object(le.a)({branchBtn:function(e){return{margin:"0 8px 8px 0",flexGrow:1,background:function(e,t,a){return a[t[e]]}("state",e,de),textDecoration:"none"}}});function fe(e){var t=e.name,a=e.branches,r=e.state,n=be({state:r});return o.createElement(ce.a,{item:!0,xs:6,sm:4,md:3},o.createElement("a",{href:"https://travis-ci.com/github/".concat(t,"/branches"),style:{textDecoration:"none"}},o.createElement(oe.a,{className:n.box},o.createElement(ie.a,null,o.createElement(l.a,{gutterBottom:!0,variant:"h6",component:"h2"},t),o.createElement(l.a,{variant:"body2",color:"textSecondary",component:"p"}),"passed"!==r&&o.createElement("div",{className:n.cardActions},Object.keys(a).map((function(e){return o.createElement(me,{module:t,branch:e,key:e,build:a[e]})})))))))}var be=Object(le.a)((function(e){return{box:function(e){return{borderRadius:8,textDecoration:"none",background:"passed"===e.state?"linear-gradient(45deg, #61b047 30%, #00ca99 90%)":void 0}},text:{color:"white"},branchBtn:{margin:"0 8px 8px 0",flexGrow:1},cardActions:{flexWrap:"wrap",display:"flex"}}}));function Ee(){var e=ge(),t=o.useState("red"),a=Object(p.a)(t,2),r=(a[0],a[1],Object(u.c)((function(e){return e.build}))),n=r.modules;return r.loading||!n?o.createElement(ne.a,null):o.createElement("div",{className:e.root},o.createElement(ce.a,{className:e.centerContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3},n.map((function(e){var t=e.name,a=Object(Y.a)(e,["name"]);return o.createElement(fe,Object.assign({key:t,name:t},a))}))))}var ge=Object(_.a)({root:{textAlign:"center",paddingTop:20,paddingLeft:15,paddingRight:15},centerContainer:{},button:{marginTop:20}}),he=a(157),ve=a(95),Oe=a(156),je=Object(ve.a)({palette:{primary:{light:"#e5e5e5",main:"#727272",dark:"#363839",contrastText:"#fff"},secondary:{light:"#005AE1",main:"#0F3287",dark:"#051E2D",contrastText:"#fff"},type:"dark"}});var ye=a(96);function xe(e,t){var a=Object(u.b)();return Object(o.useMemo)((function(){return Array.isArray(e)?e.map((function(e){return Object(M.bindActionCreators)(e,a)})):Object(M.bindActionCreators)(e,a)}),t?[a].concat(Object(ye.a)(t)):t)}function we(){return function(e){e({type:c.LOADING_BUILDS}),fetch("/travis-dashboard/buildData.json",{method:"GET"}).then((function(e){return e.json().then((function(t){return{json:t,lastModified:e.headers.has("last-modified")?new Date(e.headers.get("last-modified")):void 0}}))})).then((function(t){return e({type:c.BUILD_LOADED,payload:t})}))}}function Te(){return{type:c.TOGGLE_FILTER}}function Se(e){return function(t){var a=setTimeout((function(){t({type:c.TRIGGER_SEARCH})}),500);t({type:c.SET_TERM,payload:{term:e,triggerSearchTimeout:a}})}}function De(e){return{type:c.SET_CATEGORY_FILTER,payload:{categoryFilters:e}}}var Le=a(164),ke=a(180),Ie=a(165),Re=a(166),Fe=a(158),Ge=a(178),_e=a(173),Ce=a(159),Ne=a(162),Ae=a(175),Be={core:"Core",supported:"Supported",unsupported:"Unsupported",nonmodule:"Non-module"};function Me(e){e.className;var t=xe(n).setCategoryFilter,a=Object(u.c)((function(e){return e.build})).categoryFilters,r=He();return a?o.createElement(Fe.a,{className:r.root},o.createElement(Ge.a,{id:"demo-mutiple-checkbox-label",color:"secondary"},"Category"),o.createElement(_e.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:a,onChange:function(e){return t(e.target.value)},input:o.createElement(Ce.a,null),renderValue:function(e){return e.map((function(e){return Be[e]})).join(", ")}},Object.keys(Be).map((function(e){return o.createElement(Ne.a,{key:e,value:e},o.createElement(Ae.a,{checked:a.indexOf(e)>-1}),o.createElement(h.a,{primary:Be[e]}))})))):null}var He=Object(le.a)((function(e){return{root:{margin:e.spacing(1),width:200}}}));function Ue(e){var t=e.className,a=xe(n),r=a.toggleFilter,c=a.setTerm,i=Object(u.c)((function(e){return e.build})).filter,l=Pe();return o.createElement(Le.a,{row:!0,className:"".concat(t," ").concat(l.root)},o.createElement(ke.a,{label:"Filter by name",variant:"filled",color:"secondary",onChange:function(e){return c(e.target.value)},className:l.term}),o.createElement(Me,null),o.createElement(Ie.a,{control:o.createElement(Re.a,{checked:"latestStable"===i,onChange:r}),label:"Latest only",color:"secondary"}))}var Pe=Object(le.a)({term:{flexGrow:1},root:{}});function Ye(){var e=$e();return o.createElement("div",{className:e.content},o.createElement(C.a,{exact:!0,path:"/",component:Ee}),o.createElement(C.a,{exact:!0,path:"/home",component:Ee}))}var ze=["failed","canceled","expired","running","passed"],qe=function(e,t,a){return a[t[e]]},Je=Object(_.a)({legend:function(e){return{background:qe("state",e,de),width:24,height:24,borderRadius:3}}});function Ve(e){var t=$e(),a=Object(u.c)((function(e){return e.build.lastModified})),r=a?"Fetched ".concat(Math.round(((new Date).getTime()-a.getTime())/1e3/60)," min ago"):"";return o.createElement("div",{className:t.drawerList},o.createElement("div",{className:t.drawerHeader}),o.createElement(f.a,null),o.createElement(b.a,null,o.createElement(E.a,{button:!0,onClick:function(){return te.push("/")}},o.createElement(g.a,null,o.createElement(D.a,null)),o.createElement(h.a,{primary:"Home"})),o.createElement(E.a,{component:"a",button:!0,href:"https://github.com/maxime-rainville/travis-dashboard/"},o.createElement(g.a,null,o.createElement(k.a,null)),o.createElement(h.a,{primary:"View Source"})),o.createElement(E.a,{component:"a",button:!0,href:"https://github.com/maxime-rainville/travis-dashboard/actions?query=workflow%3A%22Build+and+Deploy%22"},o.createElement(g.a,null,o.createElement(R.a,null)),o.createElement(h.a,{primary:"Refresh data",secondary:r}))),o.createElement("div",{className:t.drawerSpacer}),o.createElement(b.a,null,o.createElement(v.a,null,"Legend"),ze.map((function(e){return o.createElement(E.a,{key:e},o.createElement(g.a,null,o.createElement("span",{className:Je({state:e}).legend})),o.createElement(h.a,{primary:e}))}))))}var We,$e=Object(_.a)((function(e){return{root:{width:"100%",height:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{zIndex:e.zIndex.drawer+1,position:"absolute"},appTitle:{flexGrow:.7},appForm:{flexGrow:.3},navIconHide:Object(m.a)({},e.breakpoints.up("md"),{display:"none"}),drawerHeader:Object(s.a)({},e.mixins.toolbar),drawerPaper:Object(m.a)({width:250,backgroundColor:e.palette.background.default},e.breakpoints.up("md"),{width:240,position:"relative",height:"100%"}),drawerList:{minHeight:"100%",display:"flex",flexDirection:"column"},drawerSpacer:{flexGrow:1},content:Object(m.a)({backgroundColor:e.palette.background.default,overflow:"auto",width:"100%",height:"calc(100% - 56px)",marginTop:56},e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64})}})),Ke=(We=function(){var e=xe(n);o.useEffect((function(){e.initBuildData()}),[]);var t=$e(),a=o.useState(!0),r=Object(p.a)(a,2),c=r[0],i=r[1],u=Object(O.a)((function(e){return e.breakpoints.down("sm")})),d=function(){i(!c)};return o.createElement(N.a,{basename:"/travis-dashboard"},o.createElement("div",{className:t.root},o.createElement("div",{className:t.appFrame},o.createElement(j.a,{className:t.appBar},o.createElement(y.a,null,o.createElement(x.a,{color:"inherit","aria-label":"open drawer",onClick:d,className:t.navIconHide},o.createElement(G.a,null)),o.createElement(l.a,{variant:"h6",color:"inherit",noWrap:u,className:t.appTitle},"Silverstripe CMS Squad dashboard"),o.createElement(Ue,{className:t.appForm}))),o.createElement(w.a,{mdUp:!0},o.createElement(T.a,{variant:"temporary",anchor:"left",open:c,classes:{paper:t.drawerPaper},onClose:d,ModalProps:{keepMounted:!0}},o.createElement(Ve,null))),o.createElement(w.a,{smDown:!0},o.createElement(T.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},o.createElement(Ve,null))),o.createElement(Ye,null))))},function(e){return o.createElement(Oe.a,{theme:je},o.createElement(he.a,null),o.createElement(We,e))}),Qe=function(){var e=Object(M.createStore)(re,{},ae);return{store:e,persistor:Object(U.b)(e)}}(),Xe=Qe.persistor,Ze=Qe.store;var et=document.getElementById("root");i.render(o.createElement((function(){return o.createElement(u.a,{store:Ze},o.createElement(d.a,{loading:o.createElement(l.a,null,"Loading..."),persistor:Xe},o.createElement(Ke,null)))}),null),et)}},[[105,1,2]]]);
//# sourceMappingURL=main.25f7a0a9.chunk.js.map